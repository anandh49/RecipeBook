<!DOCTYPE html>
<title id="title">Pasta alfredo</title>
<html lang="en">

<head>
  <link href="static/recipe.css" rel="stylesheet">
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta name="description" content="">
  <meta name="keywords" content="">

  <!-- Favicons -->
  <link href="static/assets/img/favicon.png" rel="icon">
  <link href="static/assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Inter:wght@100;200;300;400;500;600;700;800;900&family=Amatic+SC:wght@400;700&display=swap" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="static/assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="static/assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="static/assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="static/assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="static/assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Font Awesome for search icon -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

  <!-- Main CSS File -->
  <link href="static/assets/css/main.css" rel="stylesheet">
</head>

<body class="index-page">

  <header id="header" class="header d-flex align-items-center sticky-top">
    <div class="container position-relative d-flex align-items-center justify-content-between">
      <a href="index.html" class="logo d-flex align-items-center me-auto me-xl-0">
        <h1 class="sitename">The Recipe Book</h1>
        <span>.</span>
      </a>
      <nav id="navmenu" class="navmenu">
        <ul>
          <li><a href="#hero" class="active">Home<br></a></li>
          <li><a href="#about">Ingredients</a></li>
          <li><a href="#menu">Instructions</a></li>
          <li><a href="#nut">Nutrition chart</a></li>
          <li><a>Add To Fav</a></li>
          <button id="like-button" onclick="likeRecipe()">
            <i class="far fa-heart"></i> 
          </button>
        </ul>
        <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
      </nav>
  
      <!-- Search Container -->
      <div class="search-container" id="searchContainer">
        <div class="search">
          <form id="searchForm">
            <input type="text" id="searchInput" name="search" placeholder="Search recipes..." required>
            <button type="submit">
              <div class="search-icon">
                <i class="fa-solid fa-magnifying-glass" style="color:white;"></i>
              </div>
            </button>
          </form>
        </div>
      </div>
  
      <!-- Book a Table Button (Now acts as the Search Button) -->
      <a class="btn-getstarted" id="searchButton">Search</a>
      <li> <a href="{{ url_for('show_page', page='main') }}" class="active"><img src="{{ url_for('static', filename='images/home.png') }}"></a></li>
    </div>
  </header>
  <main class="main">

    <!-- Hero Section -->
    <section id="hero" class="hero section light-background">

      <div class="container">
        <div class="row gy-4 justify-content-center justify-content-lg-between">
          <div class="col-lg-5 order-2 order-lg-1 d-flex flex-column justify-content-center">
            <h1 id="head" data-aos="fade-up">Creamy Alfredo Delight</h1>
            <p id="description" data-aos="fade-up" data-aos-delay="100">Alfredo Pasta is a luxurious, velvety pasta dish made with a rich white sauce of butter, cream, and Parmesan cheese</p>
            <div class="d-flex" data-aos="fade-up" data-aos-delay="200">
              
            </div>
          </div>
          <div class="col-lg-5 order-1 order-lg-2 hero-img" data-aos="zoom-out">
            <img src="{{ url_for('static', filename='images/Pasta alfredo.png') }}" alt="">
          </div>
        </div>
      </div>
    </div>
    </section><!-- /Hero Section -->
    <div class="meal-and-timer-container">
      <div class="timer-container">
          <svg class="timer-circle" viewBox="0 0 200 200">
              <circle class="timer-background" cx="100" cy="100" r="90"/>
              <circle class="timer-progress" cx="100" cy="100" r="90"/>
          </svg>
          <div class="timer-content">
              <div class="timer-text">45</div>
              <div class="dish-name">Min</div>
          </div>
      </div>
      
      <div class="meal-container">
          <div class="meal-card meal-Supper" id="mealCard">
              <div class="meal-icon" id="mealIcon"></div>
          </div>
          <div class="meal-type-label" id="mealLabel">Supper</div>
      </div>
  </div>
    <!-- About Section (Ingredients) -->
    <section id="about" class="about section">
        <div id="recommendations-container">
            <h3>Craving Something New?</h3>
            <div id="recommendations"></div>
        </div> 
      <!-- Section Title -->
      <div class="container section-title" data-aos="fade-up">
        <h2>what you need<br></h2>
        <p><span>Ingre</span> <span class="description-title">DIENTS</span></p>
      </div><!-- End Section Title -->

      <div class="container">

        <div class="row gy-4">
          <div class="col-lg-7" data-aos="fade-up" data-aos-delay="100">
            <div class="video-container">
              <img id="image" src="https://www.aspicyperspective.com/wp-content/uploads/2014/12/Fettuccine-Alfredo-Recipe-16.jpg" class="img-fluid mb-4" alt="">
            </div>
          </div>
          <div  class="col-lg-5" data-aos="fade-up" data-aos-delay="250">
            <div class="content ps-0 ps-lg-5">
              <p class="fst-italic">
                For the perfect Pasta alfredo, you'll need these fresh ingredients:
              </p>
              <ul id="ingredients" style="list-style-type: none;">
                <ul><li><i class='bi bi-check-circle-fill'></i> <span>For the Pasta:</span></li><li><i class='bi bi-check-circle-fill'></i> <span>200g fettuccine or penne pasta</span></li><li><i class='bi bi-check-circle-fill'></i> <span>Water for boiling</span></li><li><i class='bi bi-check-circle-fill'></i> <span>Salt for seasoning</span></li><li><i class='bi bi-check-circle-fill'></i> <span>For the Alfredo Sauce:</span></li><li><i class='bi bi-check-circle-fill'></i> <span>2 tablespoons butter</span></li><li><i class='bi bi-check-circle-fill'></i> <span>1 tablespoon olive oil</span></li><li><i class='bi bi-check-circle-fill'></i> <span>4â€“5 garlic cloves (finely chopped)</span></li><li><i class='bi bi-check-circle-fill'></i> <span>1 cup heavy cream</span></li><li><i class='bi bi-check-circle-fill'></i> <span>Â¾ cup grated Parmesan cheese (or processed cheese if unavailable)</span></li><li><i class='bi bi-check-circle-fill'></i> <span>Salt to taste</span></li><li><i class='bi bi-check-circle-fill'></i> <span>Â½ teaspoon black pepper</span></li><li><i class='bi bi-check-circle-fill'></i> <span>A pinch of nutmeg (optional)</span></li><li><i class='bi bi-check-circle-fill'></i> <span>Chopped parsley or oregano for garnish</span></li><li><i class='bi bi-check-circle-fill'></i> <span>Optional Add-ins:</span></li><li><i class='bi bi-check-circle-fill'></i> <span>Â½ cup steamed broccoli or sautÃ©ed mushrooms (for veg)</span></li><li><i class='bi bi-check-circle-fill'></i> <span>Grilled chicken strips or shrimp (for non-veg)</span></li></ul>
              </ul>
            </div>
          </div>
        </div>
  
        <!-- Additional Sections (Fun Facts and Tips & Tricks) -->
        <div class="additional-sections row" data-aos="fade-up" data-aos-delay="300">
          <div class="col-md-6">
            <div class="additional-section">
              <h3>Fun Facts</h3>
              <ul id="fun">
                <ul><li><i class='bi bi-check-circle-fill'></i> <span>Alfredo pasta was originally made with just butter and Parmesanâ€”cream was a later American addition.</span></li><li><i class='bi bi-check-circle-fill'></i> <span>The dish is named after Alfredo di Lelio, who created it in Rome in the early 20th century.</span></li></ul>
              </ul>
            </div>
          </div>
          <div class="col-md-6">
            <div class="additional-section">
              <h3>Tips & Tricks</h3>
              <ul id="tips">
                <ul><li><i class='bi bi-check-circle-fill'></i> <span>Freshly grated Parmesan melts better and gives the best flavor.</span></li><li><i class='bi bi-check-circle-fill'></i> <span>If the sauce thickens too much, add a splash of reserved pasta water to fix the texture.</span></li></ul>
              </ul>
            </div>
          </div>
        </div>

      </div>

    </section><!-- /About Section -->

    <!-- Menu Section (Instructions) -->
    <section id="menu" class="menu section">

      <!-- Section Title -->
      <div class="container section-title" data-aos="fade-up">
        <h2>How to make it</h2>
        <p><span>Step-by-step</span> <span class="description-title">Instructions</span></p>
      </div><!-- End Section Title -->

      <div class="container">
        <div class="row gy-4">
          <div class="col-lg-6" data-aos="fade-up" data-aos-delay="100">
            <div class="content ps-0 ps-lg-5">
              <ol class="instruction-list" id="instructions">
                <ul style="list-style-type: none;"></ul><ul><li><i class='bi bi-check-circle-fill'></i> <span>Cook the Pasta:</span></li><li><i class='bi bi-check-circle-fill'></i> <span>Boil pasta in salted water until al dente.</span></li><li><i class='bi bi-check-circle-fill'></i> <span>Reserve Â½ cup pasta water, then drain and set aside.</span></li><li><i class='bi bi-check-circle-fill'></i> <span>Make the Alfredo Sauce:</span></li><li><i class='bi bi-check-circle-fill'></i> <span>In a pan, heat butter and olive oil.</span></li><li><i class='bi bi-check-circle-fill'></i> <span>SautÃ© garlic until fragrant (do not brown).</span></li><li><i class='bi bi-check-circle-fill'></i> <span>Add heavy cream and stir continuously on low heat.</span></li><li><i class='bi bi-check-circle-fill'></i> <span>Once warm, add grated Parmesan cheese. Stir until melted and smooth.</span></li><li><i class='bi bi-check-circle-fill'></i> <span>Season with salt, pepper, and a pinch of nutmeg.</span></li><li><i class='bi bi-check-circle-fill'></i> <span>Combine Pasta and Sauce:</span></li><li><i class='bi bi-check-circle-fill'></i> <span>Add cooked pasta to the sauce.</span></li><li><i class='bi bi-check-circle-fill'></i> <span>Mix well and add a little pasta water to loosen the sauce if needed.</span></li><li><i class='bi bi-check-circle-fill'></i> <span>Stir in optional add-ins like grilled chicken or broccoli.</span></li><li><i class='bi bi-check-circle-fill'></i> <span>Serve:</span></li><li><i class='bi bi-check-circle-fill'></i> <span>Plate the pasta and garnish with chopped parsley or oregano and extra cheese.</span></li></ul></ul>
              </ol>
            </div>
          </div>
          <div class="col-lg-6" data-aos="fade-up" data-aos-delay="250">
            <div style="position: relative; display: inline-block;">
              <iframe width="600" height="300" src="https://www.youtube.com/embed/qda5mMOIlqc" id="video" 
                frameborder="0" allowfullscreen></iframe>
              <a href="https://www.youtube.com/embed/qda5mMOIlqc" class="glightbox pulsating-play-btn"></a>
            </div>
          </div>
        </div>

      </div>

    </section><!-- /Menu Section -->

    <!-- Nutrition Section -->
    <section id="nut" class="nutrition-section section">

      <!-- Section Title -->
      <div class="container section-title" data-aos="fade-up">
        <h2>Nutritional Value</h2>
        <p><span>Per Serving</span> <span class="description-title">Nutrition Facts</span></p>
      </div><!-- End Section Title -->

      <div class="container">
        <div class="row gy-4 justify-content-center">
          <div class="col-lg-8" data-aos="fade-up" data-aos-delay="100">
            <div class="nutrition-facts">
              <ul class="nutrition-list" id="nutrition">
                <ul style="list-style-type: none;"><ul><li><i class='bi bi-check-circle-fill'></i> <span>Calories: 600 kcal</span></li><li><i class='bi bi-check-circle-fill'></i> <span>Protein: 15g</span></li><li><i class='bi bi-check-circle-fill'></i> <span>Carbohydrates: 45g</span></li><li><i class='bi bi-check-circle-fill'></i> <span>Fats: 38g</span></li><li><i class='bi bi-check-circle-fill'></i> <span>Sugar: 3g</span></li><li><i class='bi bi-check-circle-fill'></i> <span>Fiber: 2g</span></li><li><i class='bi bi-check-circle-fill'></i> <span>Cholesterol: 85mg</span></li></ul></ul></span></li>
              </ul>
            </div>
          </div>
        </div>
      </div>

    </section><!-- /Nutrition Section -->

<!-- Testimonials Section -->
<section id="comments-section" class="section light-background" style="text-align: center;">
  <div class="container" style="max-width: 700px; margin: 0 auto;">
    <div class="comment-section" data-recipe="pastry">
      <div class="container section-title" data-aos="fade-up">
        <h2>Comments</h2>
        <p>Share Your <span class="description-title">Thoughts</span></p>
      </div>
      <form method="POST" style="margin-bottom: 20px;">
        <textarea name="comment" 
          style="background: #ffffff; 
                 padding: 15px; 
                 width: 100%; 
                 height: 120px;
                 border-radius: 28px; 
                 box-shadow: 0 2px 8px rgba(0,0,0,0.1);
                 border: 1px solid #e0e0e0;
                 font-family: inherit;
                 font-size: 15px;
                 color: #333;
                 transition: all 0.3s ease;
                 resize: vertical;
                 margin-bottom: 15px;" 
          placeholder="âœï¸ Write your thoughtful comment here..." 
          required></textarea>
        
        <div class="button-container" style="display: flex; justify-content: center; gap: 15px;">
          <button type="submit" 
            style="background: #c50202;
                   color: white;
                   border: none;
                   padding: 10px 20px;
                   border-radius: 26px;
                   font-size: 15px;
                   cursor: pointer;
                   transition: all 0.3s ease;
                   box-shadow: 0 2px 5px rgba(0,0,0,0.1);
                   display: flex;
                   align-items: center;
                   gap: 5px;"
            onmouseover="this.style.background='#5a6268'"
            onmouseout="this.style.background='#6c757d'">
            Post Comment
          </button>
          
          <button type="button"
            style="background: #6c757d;
                   color: white;
                   border: none;
                   padding: 10px 20px;
                   border-radius: 26px;
                   font-size: 15px;
                   cursor: pointer;
                   transition: all 0.3s ease;
                   box-shadow: 0 2px 5px rgba(0,0,0,0.1);
                   display: flex;
                   align-items: center;
                   gap: 5px;"
            onmouseover="this.style.background='#5a6268'"
            onmouseout="this.style.background='#6c757d'"
            onclick="toggleComments()">
             View Comments
          </button>
        </div>
      </form>
      
      <div id="comments" class="comments-container" 
        style="background: #ffffff;
               padding: 20px;
               border-radius: 8px;
               box-shadow: 0 2px 8px rgba(0,0,0,0.1);
               border: 1px solid #e0e0e0;
               text-align: left;">
        {{comments}}
      </div>
    </div>
  </div>
</section>
  <!-- Contact Section -->
    <section id="contact" class="contact section">

      <!-- Section Title -->
      <div class="container section-title" data-aos="fade-up">
        <h2>Contact</h2>
        <p><span>Need Help?</span> <span class="description-title">Contact Us</span></p>
      </div><!-- End Section Title -->

      <div class="container" data-aos="fade-up" data-aos-delay="100">

        <div class="row gy-4">

          <div class="col-md-6">
            <div class="info-item d-flex align-items-center" data-aos="fade-up" data-aos-delay="200">
              <i class="icon bi bi-geo-alt flex-shrink-0"></i>
              <div>
                <h3>Social-media</h3>
                <a href="{{ url_for('show_page', page='about') }}" style="color: black;">contact-us</a>
              </div>
            </div>
          </div><!-- End Info Item -->

          <div class="col-md-6">
            <div class="info-item d-flex align-items-center" data-aos="fade-up" data-aos-delay="400">
              <i class="icon bi bi-envelope flex-shrink-0"></i>
              <div>
                <h3>Email Us</h3>
                <p>recipebook@example.com</p>
              </div>
            </div>
          </div><!-- End Info Item -->

        </div>

      </div>

    </section><!-- /Contact Section -->

  </main>

  <footer id="footer" class="footer dark-background">
    <div class="container">
      <div class="row gy-3">
        <!-- Follow Us Section -->
        <div class="col-lg-3 col-md-6">
          <h4>Follow Us</h4>
          <div class="social-links d-flex">
            <a href="#" class="twitter"><i class="bi bi-twitter-x"></i></a>
            <a href="#" class="facebook"><i class="bi bi-facebook"></i></a>
            <a href="#" class="instagram"><i class="bi bi-instagram"></i></a>
            <a href="#" class="linkedin"><i class="bi bi-linkedin"></i></a>
          </div>
        </div>
      </div>
    </div>
  
    <!-- Copyright Section -->
    <div class="container copyright text-center mt-4">
      <p>Â© <span>Copyright</span> <strong class="px-1 sitename">Recipe Book</strong> <span>All Rights Reserved</span></p>
      <div class="credits">
        Designed using <a href="https://bootstrapmade.com/">BootstrapMade</a></a>
      </div>
    </div>
  </footer>

  <!-- Scroll Top -->
  <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Preloader -->
  <div id="preloader"></div>

  <!-- Vendor JS Files -->
  <script src="static/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="static/assets/vendor/php-email-form/validate.js"></script>
  <script src="static/assets/vendor/aos/aos.js"></script>
  <script src="static/assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="static/assets/vendor/purecounter/purecounter_vanilla.js"></script>
  <script src="static/assets/vendor/swiper/swiper-bundle.min.js"></script>

  <!-- Main JS File -->
  <script src="static/assets/js/main.js"></script>
  <script src="static/script.js"></script>
  <script>
    function setupMealCard() {
        const mealCard = document.getElementById('mealCard');
        const mealIcon = document.getElementById('mealIcon');
        const mealLabel = document.getElementById('mealLabel');
        
        if (!mealCard) return;
        const mealTypeDisplay = "Lunch"; 
        const mealTypeClass = mealTypeDisplay.toLowerCase().replace(/\s+/g, '-'); 
        
        mealCard.className = 'meal-card';
    
        mealCard.classList.add('meal-' + mealTypeClass);
    
        switch(mealTypeClass) {
            case 'breakfast':
                mealIcon.textContent = 'ðŸ³';
                break;
            case 'lunch':
                mealIcon.textContent = 'ðŸ²';
                break;
            case 'dinner':
                mealIcon.textContent = 'ðŸ½ï¸';
                break;
            case 'snacks':
                mealIcon.textContent = 'ðŸ°';
                break;
            case 'dessert':
                mealIcon.textContent = 'ðŸ§';
                break;
            default:
                mealIcon.textContent = 'ðŸ½ï¸';
        }
        
        mealLabel.textContent = mealTypeDisplay;
    
        mealCard.style.animation = 'none';
        mealCard.offsetHeight;
        mealCard.style.animation = '';
    }
    window.addEventListener('DOMContentLoaded', setupMealCard);
    document.addEventListener("DOMContentLoaded", function () {
      let currentPage = window.location.pathname.split('/').pop();
      
      fetch(`/get_related_recipes/${currentPage}`)
          .then(response => {
              if (!response.ok) {
                  throw new Error('Network response was not ok');
              }
              return response.json();
          })
          .then(data => {
              console.log("Received data:", data); // Debugging
              
              let container = document.getElementById("recommendations");
              let index = 0;
    
              function showNextRecipe() {
                  if (!data || data.length === 0) {
                      container.innerHTML = "<p>No recommendations found</p>";
                      return;
                  }
                  
                  if (index >= data.length) index = 0; // Loop back
                  
                  let recipe = data[index];
                  
                  container.innerHTML = `
                      <a href="${recipe.url}" class="recipe-box fade-in">
                          <img src="${recipe.image_url}" alt="${recipe.name}" 
                               onerror="this.src='/static/images/default-recipe.jpg'">
                          <div class="recipe-name">${recipe.name}</div>
                      </a>
                  `;
    
                  // Reset animation
                  container.classList.remove("fade-in");
                  void container.offsetWidth; // Trigger reflow
                  container.classList.add("fade-in");
                  
                  index++;
                  setTimeout(showNextRecipe, 5000); // Show next recipe every 5 sec
              }
    
              showNextRecipe();
          })
          .catch(error => {
              console.error('Error fetching recommendations:', error);
              document.getElementById("recommendations").innerHTML = 
                  "<p>Unable to load recommendations</p>";
          });
    });
      const recipeName = 'Pasta alfredo'; 
    
    // Function to handle like/dislike
    function likeRecipe() {
        const likeButton = document.getElementById('like-button');
        const heartIcon = likeButton.querySelector('i');
    
        fetch('/like_recipe', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({recipe_name: recipeName})
        })
        .then(response => response.json())
        .then(data => {
            if (data.status === 'success') {
                // Toggle the heart icon and animation based on the liked state
                if (data.liked) {
                    heartIcon.classList.remove('far'); // Remove empty heart
                    heartIcon.classList.add('fas'); // Add filled heart
                    heartIcon.style.color = 'red'; // Change heart color to red
                    likeButton.classList.add('liked'); // Add animation class
                } else {
                    heartIcon.classList.remove('fas'); // Remove filled heart
                    heartIcon.classList.add('far'); // Add empty heart
                    heartIcon.style.color = ''; // Reset heart color
                    likeButton.classList.remove('liked'); // Remove animation class
                }
    
                // Save the liked state to localStorage
                localStorage.setItem(`liked_${recipeName}`, data.liked);
            } else {
                console.error(data.message); 
            }
        })
        .catch((error) => {
            console.error('Error:', error);
        });
    }
    
    // Function to restore the liked state on page load
    function restoreLikeState() {
        const likeButton = document.getElementById('like-button');
        const heartIcon = likeButton.querySelector('i');
    
        // Retrieve the liked state from localStorage
        const liked = localStorage.getItem(`liked_${recipeName}`);
    
        // Update the heart icon based on the stored liked state
        if (liked === 'true') {
            heartIcon.classList.remove('far'); // Remove empty heart
            heartIcon.classList.add('fas'); // Add filled heart
            heartIcon.style.color = 'red'; // Change heart color to red
            likeButton.classList.add('liked'); // Add animation class
        } else {
            heartIcon.classList.remove('fas'); // Remove filled heart
            heartIcon.classList.add('far'); // Add empty heart
            heartIcon.style.color = ''; // Reset heart color
            likeButton.classList.remove('liked'); // Remove animation class
        }
    }
    
    // Restore the liked state when the page loads
    window.onload = restoreLikeState;
      </script>

</body>
</html>